%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%   Setup glossary   %%%
%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%
% Define commands to force use of abbreviated acronym:
\newcommand*\glsForceShort[1]{\ifglsused{#1}{\gls{#1}}{%
  \glsunset{#1}\gls{#1}\glsreset{#1}}%
}
\newcommand*\GlsForceShort[1]{\ifglsused{#1}{\Gls{#1}}{%
  \glsunset{#1}\Gls{#1}\glsreset{#1}}%
}
\newcommand*\glsplForceShort[1]{\ifglsused{#1}{\glspl{#1}}{%
  \glsunset{#1}\glspl{#1}\glsreset{#1}}%
}
\newcommand*\GlsplForceShort[1]{\ifglsused{#1}{\Glspl{#1}}{%
  \glsunset{#1}\Glspl{#1}\glsreset{#1}}%
}

% Define custom glossary style:
\newglossarystyle{custom}{%
  % Put the glossary in a longtable environment:
  \renewenvironment{theglossary}%
    {%
      \thispagestyle{scrheadings}\pagestyle{scrheadings}%
      \begin{longtable}{p{0.9\textwidth-\glsdescwidth-\glspagelistwidth}%
        p{\glsdescwidth}p{\glspagelistwidth}}%
    }%
    {\end{longtable}}%
  % Set the tableâ€™s header: title row
  \renewcommand*{\glossaryheader}{%
    \toprule\textbf{\textsf{\entryname}}%
    &\textbf{\textsf{\descriptionname}}%
    &\textbf{\textsf{\pagelistname}}%
    \\\midrule\endhead%
    \bottomrule\endfoot}%
  % Nothing between groups:
  \renewcommand*{\glsgroupheading}[1]{}
  \renewcommand*{\glsgroupskip}{}%
  % Main (level 0) entries displayed in a row optionally numbered:
  \renewcommand*{\glossentry}[2]{%
    \glstarget{##1}{\glossentryname{##1}}% Name
    &\glossentrydesc{##1}% Description
    &##2% Page list
    \\% end of row
  }%
  % Similarly for sub-entries (no sub-entry numbers):
  \renewcommand*{\subglossentry}[3]{%
    \glossentry{##2}{##3}
  }%
}

% Automatic capitalization of description in glossary list:
\makeatletter
\let\firstchar\lowercase
\let\printglossary@old\printglossary
\def\printglossary{\let\firstchar\uppercase\printglossary@old}
\makeatother

\setglossarystyle{custom}
\setacronymstyle{long-short}
\makeglossaries

\newacronym[longplural={\firstchar{t}wo-dimensional electron gases}]{2deg}%
  {2DEG}{\firstchar{t}wo-dimensional electron gas}

\newacronym[longplural={\firstchar{t}wo-dimensional hole gases}]{2dhg}%
  {2DHG}{\firstchar{t}wo-dimensional hole gas}

\newacronym{afm}{AFM}{\firstchar{a}tomic force microscope}

\newacronym{cad}{CAD}{\firstchar{c}omputer-aided design}

\newacronym{ccd}{CCD}{\firstchar{c}harge-coupled device}

\newacronym{cvd}{CVD}{\firstchar{c}hemical vapor deposition}

\newacronym{cw}{cw}{\firstchar{c}ontinuous wave}

\newacronym{dmso}{DMSO}{\firstchar{d}imethyl sulfoxide}

\newacronym{fet}{FET}{\firstchar{f}ield-effect transistor}

\newacronym{fett}{FETT}{\firstchar{f}ield-effect tunneling transistor}

\newacronym[longplural={\firstchar{f}ull widths at half maximum}]{fwhm}%
  {FWHM}{\firstchar{f}ull width at half maximum}

\newacronym{hcp}{hcp}{\firstchar{h}exagonal close-packed}

\newacronym{hwp}{HWP}{\firstchar{h}alf-wave plate}

\newacronym[description={\firstchar{m}etal-insulator-semiconductor junction}]{mis}%
  {MIS}{\firstchar{m}etal-insulator-semiconductor}

\newacronym[sort=MoS2]{MoS}{\ce{MoS2}}{\firstchar{m}olybdenum disulfide}

\newacronym{mosfet}{MOSFET}{\firstchar{m}etal-oxide-semiconductor field-effect transistor}

\newacronym{na}{NA}{\firstchar{n}umerical aperture}

\newacronym[longplural={\firstchar{n}umerical aperture increasing lenses}]{nail}%
  {NAIL}{\firstchar{n}umerical aperture increasing lens}

\newacronym{pl}{PL}{\firstchar{p}hotoluminescence}

\newacronym{pmma}{PMMA}{\firstchar{p}oly(methyl methacrylate)}

\newacronym{qwp}{QWP}{\firstchar{q}uarter-wave plate}

\newacronym{sem}{SEM}{\firstchar{s}canning electron microscope}

\newacronym[longplural={\firstchar{s}olid immersion lenses}]{sil}%
  {SIL}{\firstchar{s}olid immersion lens}

\newacronym{soc}{SOC}{\firstchar{s}pin-orbit coupling}

\newacronym{tmdc}{TMDC}{\firstchar{t}ransition metal dichalcogenide}

\newacronym%
  [description={\firstchar{u}ltra high vacuum, usually featuring a
  pressure between \SI{e-7}{\milli\bar} and \SI{e-12}{\milli\bar}},%
  longplural={\firstchar{u}ltra high vacua}]%
  {uhv}{UHV}{\firstchar{u}ltra high vacuum}


\newglossaryentry{s1813}{name={S1813},description={MicroChem (Dow) Microposit%
  \textsuperscript{\textregistered} S1813\textsuperscript{\textregistered} positive photoresist}}

\newglossaryentry{lor}{name={LOR~3B},description={MicroChem LOR~3B lift-off resist}}

\newglossaryentry{mir}{name={AZ~MiR~701},description={MicroChemicals
  AZ\textsuperscript{\textregistered}~MiR{\texttrademark}~701 positive photoresist}}