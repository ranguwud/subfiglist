TODO

* Test all error messages
* Delete unnecessary variables
* Add change of meaning for `@' depending on catcode to known issues. Weird settings of catcodes e.g. for numbers may have strange effects
* Add logging of canvas numbers to \subfiglist_setup_file:nnn
* Rewrite error messages for int/float as "expected integer, found ... instead"
* Replace any \cs in error messages by \token_to_str:c { cs }
* Remove error message "argument out of range"
* Add spaces to empty lines to fix syntax highlighting
* Add "g" to name of any global variables
* Add "i" to name of inline macros, which modify variables without scoping
* Introduce R-type argument for byref-tokens
* Secure any \prop_get for occurence of \q_empty
* Caveat: Don't use \subfiglistlineheight for anything related to width.
* Verify numbers for labels and overlays
* Test all kinds of weird nestings and alignments
* Define variables used to store keys
* Check default dim keys for right format




DONE

* Rewrite \subfiglist_tl_if_eq_charcode:nn to actually compare charcodes
* Use working \subfiglist_tl_if_eq_charcode:nn in \subfiglist_is_float_or_empty to detect decimal separator.
* Remove \subfiglist_exp_args:NNt from \subfiglist_is_float_or_empty
* Maybe replace \use:c by \cs_if_exist_use:cF and throw an error message in false part
* For token list conditionals, check for length equal to 1 and do not pass tail, if true. Makes ..._or_empty functions obsolete.
* Make use of \tl_if_head_is_space in token list conditionals & revert to _or_empty versions of tl conditionals
* Add \subfiglist_tl_if_eq_charcode and employ in lexer functions
* Rename key_figures -> aspect
* Differentiate between vmode and hmode dimensioning macros
* Set ratio to NaN instead of 0 for non scalable tokens
* Differentiate between vmode and hmode aspect ratio macros
* Use \subfiglist_key_set:nnV where possible
* Safe default horizontal/vertical label positioning as token list to use in \subfiglist_key_set:nnV
* \subfiglist_tokenize_spec_str:VN -> \subfiglist_tokenize_spec_str:NV
* Use sequences in place of token lists
* Check for unknown keys in subfiglist package options
* Check if new method of choice key setting works with older l3keys
* Remove \subfiglist_test_conditionals:
* Use expl3 box commands instead of plain TeX commands
* Check if empty separator @{} raises unwanted error
* tempa -> tmpa in accordance with kernel docs
* Use \subfiglist_token_if_eq_charcode:NN to compare \\ with \\.
* Replace test for equal charcode by test for equal charcode AND equal meaning
* Replace wrapping commands by more general \subfiglist_tl_set_wrapped in parser and lexer
* Remove need for xstring package?
* Add default value in \subfiglist_tokenize_newline
* Add option to keep images stored in boxes instead of loading them twice
* Add starred commands for dummy/dummyfile to add frame
* Set \subfiglist_identifier_nums by dependency injection
* Remove obsolete label hoff and voff
